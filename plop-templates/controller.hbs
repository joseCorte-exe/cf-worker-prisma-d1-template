import { Context } from "hono";
{{#if includeDTO}}
import { Input{{pascalCase action}}DTO } from '../dtos/{{kebabCase action}}.dto';
{{/if}}
import { {{pascalCase action}}UseCase } from './{{kebabCase action}}.use-case';

export class {{pascalCase action}}Controller {
  constructor(private usecase: {{pascalCase action}}UseCase) {
    this.handle = this.handle.bind(this);
  }

  async handle(c: Context) {
    {{#if includeDTO}}
    const body: Input{{pascalCase action}}DTO = await c.req.json();
    {{else}}
    const body = await c.req.json();
    {{/if}}

    const result = await this.usecase.execute(body);

    return c.newResponse(JSON.stringify(result), 201);
  }
}